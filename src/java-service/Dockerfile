FROM openjdk:17-jdk-alpine
COPY target/demo-0.0.1-SNAPSHOT.jar demo-0.0.1-SNAPSHOT.jar

ENV PYTHON_SERVICE_HOST=0.0.0.0
ENV PYTHON_SERVICE_PORT="30000"
ENV JAVA_SERVICE_HOST=0.0.0.0
ENV JAVA_SERVICE_PORT="30001"
ENV GO_SERVICE_HOST=0.0.0.0
ENV GO_SERVICE_PORT="30002"
ENV DB_SERVICE_HOST=0.0.0.0
ENV DB_SERVICE_PORT="5432"
ENV KAFKA_SERVICE_HOST=0.0.0.0
ENV KAFKA_SERVICE_PORT="9092"
ENV KAFKA_SERVICE_TOPIC=test
ENV POSTGRES_USER=postgres
ENV POSTGRES_PASSWORD=mysecretpassword
ENV DB_SERVICE_NAME=numbers

EXPOSE 30001

ENTRYPOINT ["java","-jar","demo-0.0.1-SNAPSHOT.jar"]